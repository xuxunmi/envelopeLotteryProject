var e=Object.defineProperty,t=(t,r,n)=>((t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n)(t,"symbol"!=typeof r?r+"":r,n);import{K as r,H as n,L as s}from"./.pnpm-DkWEpwye.js";var a=(e=>(e.FORM_URLENCODED="application/x-www-form-urlencoded;charset=UTF-8",e.FORM_DATA="multipart/form-data;charset=UTF-8",e.JSON="application/json;charset=UTF-8",e))(a||{}),o=(e=>(e[e.SUCCESS=1]="SUCCESS",e[e.ERROR=-1]="ERROR",e))(o||{});class i{}t(i,"TOKEN","".concat("playlet","-token"));const u=["/servlet/rest/KbomRest/exportBomCompareInfo"],c=[],p={baseURL:"/",withCredentials:!0,headers:{"Content-Type":a.JSON},timeout:5e3,data:{}},l=class e{httpInterceptorsRequest(){e.axiosInstance.interceptors.request.use((e=>{const t=localStorage.getItem(i.TOKEN);return t&&(e.headers.Authorization=t),"get"===e.method&&(e.paramsSerializer={serialize:e=>r.stringify(e,{arrayFormat:"repeat"})}),e}),(e=>(n(e.message),Promise.reject(e))))}httpInterceptorsResponse(){e.axiosInstance.interceptors.response.use((e=>{const t=e.data;let r=!1;if(u.forEach((t=>{var n;-1!=(null==(n=e.config.url)?void 0:n.indexOf(t))&&(r=!0)})),r)return t;if(t.code!=o.SUCCESS){let r=!1;return c.forEach((t=>{var n;-1!=(null==(n=e.config.url)?void 0:n.indexOf(t))&&(r=!0)})),r||n(t.msg),Promise.reject(t)}return t}),(e=>{let t="";if(e&&e.response){const{status:r}=e.response;t=((e,t)=>{var r,n;const s={400:"错误请求",401:"未授权，请登录",403:"拒绝访问",404:"请求地址出错: ".concat(null==(n=null==(r=t.response)?void 0:r.config)?void 0:n.url),405:"请求方法未允许",408:"请求超时",500:"服务器内部错误",501:"网络未实现",502:"网关错误",503:"服务不可用",504:"网络超时",505:"http版本不支持该请求"};return s[e]?s[e]:"网络连接故障"})(r,e)}return n(t),Promise.reject(e)}))}constructor(t){e.axiosConfigDefault=t,e.axiosInstance=s.create(t),this.httpInterceptorsRequest(),this.httpInterceptorsResponse()}request(t){const r={...e.axiosConfigDefault,...t};return new Promise(((t,n)=>{e.axiosInstance.request(r).then((e=>{t(e)})).catch((e=>{n(e)}))}))}};t(l,"axiosInstance"),t(l,"axiosConfigDefault");const d=new l(p),f={LEGACY:!1,VITE_BASE_API:"/api",VITE_BASE_PAY:"/pay"};function E(e){return d.request({url:f.VITE_BASE_API+"/index/index/login",method:"post",data:e})}function m(e){return d.request({url:f.VITE_BASE_API+"/index/index/record",method:"post",data:e})}function h(e){return d.request({url:f.VITE_BASE_API+"/index/index/videoList",method:"post",data:e})}function x(e){return d.request({url:f.VITE_BASE_API+"/index/index/reward",method:"post",data:e})}function A(e){return d.request({url:f.VITE_BASE_PAY+"/index/index/pay2",method:"post",data:e})}function I(e){return d.request({url:f.VITE_BASE_PAY+"/index/Alipay/prePay",method:"post",data:e})}function S(e){return d.request({url:f.VITE_BASE_PAY+"/index/Alipay/checkAlipay",method:"post",data:e})}export{I as a,x as b,S as c,h as g,E as l,A as p,m as r};
