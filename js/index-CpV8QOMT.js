import{d as e,n as t,r as a,B as s,k as l,l as o,F as i,y as r,m as n,o as c,t as d}from"./.pnpm-DkWEpwye.js";import{g as p}from"./index-CcUbp2Gw.js";const v={class:"container"},u=["onClick"],f=["src"],g={style:{color:"#fff","text-align":"center",height:"60px","margin-top":"20px"}},h=e({__name:"index",setup(e){const h=t({videoList:[],page:1}),m=a();s((async()=>{await y(),m.value,m.value&&m.value.addEventListener("scroll",x,!0)}));const x=async e=>{scrollTopVal.value=e.target.scrollTop;e.target.offsetHeight,e.target.scrollHeight;scrollTopVal.value},y=()=>{p({page:h.page}).then((e=>{let t=e.data.videoList;for(var a in t)h.videoList.push(t[a])}))},_=n(),k=()=>{let e=(e=>{const t=/[?&]+([^=&]+)=([^&]*)/gi,a={};let s;for(;s=t.exec(e);)a[s[1]]=s[2];return a})(location.href);_.push({path:"/video",query:{uuid:e.uuid,channel_key:e.channel_key}})};return(e,t)=>(c(),l("div",v,[o("div",{class:"top-menu"},[o("div",{onClick:k,class:"active"},"剧单")]),o("div",{class:"box",ref_key:"scrollRef",ref:m},[t[0]||(t[0]=o("p",{style:{"margin-left":"20px",color:"#fff","font-weight":"700","font-size":"20px"}},"新剧场",-1)),(c(!0),l(i,null,r(h.videoList,((e,t)=>(c(),l("div",{class:"duanju",onClick:t=>{return a=e.video_id,void(location.href="/player?video_id="+a);var a}},[o("img",{src:e.logo_img,alt:"",style:{height:"203px"}},null,8,f),o("p",g,d(e.video_title),1)],8,u)))),256))],512)]))}});export{h as default};
