var e=Object.defineProperty,t=(t,r,s)=>((t,r,s)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s)(t,"symbol"!=typeof r?r+"":r,s);import{y as r,z as s,A as o}from"./.pnpm-9nJYP8e5.js";var n=(e=>(e.FORM_URLENCODED="application/x-www-form-urlencoded;charset=UTF-8",e.FORM_DATA="multipart/form-data;charset=UTF-8",e.JSON="application/json;charset=UTF-8",e))(n||{}),a=(e=>(e[e.SUCCESS=1]="SUCCESS",e[e.ERROR=-1]="ERROR",e))(a||{});class i{}t(i,"TOKEN","".concat("playlet","-token"));const c=["/servlet/rest/KbomRest/exportBomCompareInfo"],u=[],l={baseURL:"/",withCredentials:!0,headers:{"Content-Type":n.JSON},timeout:5e3,data:{}},p=class e{httpInterceptorsRequest(){e.axiosInstance.interceptors.request.use((e=>{const t=localStorage.getItem(i.TOKEN);return t&&(e.headers.Authorization=t),"get"===e.method&&(e.paramsSerializer={serialize:e=>r.stringify(e,{arrayFormat:"repeat"})}),e}),(e=>(s(e.message),Promise.reject(e))))}httpInterceptorsResponse(){e.axiosInstance.interceptors.response.use((e=>{const t=e.data;let r=!1;if(c.forEach((t=>{var s;-1!=(null==(s=e.config.url)?void 0:s.indexOf(t))&&(r=!0)})),r)return t;if(t.code!=a.SUCCESS){let r=!1;return u.forEach((t=>{var s;-1!=(null==(s=e.config.url)?void 0:s.indexOf(t))&&(r=!0)})),r||s(t.msg),Promise.reject(t)}return t}),(e=>{let t="";if(e&&e.response){const{status:r}=e.response;t=((e,t)=>{var r,s;const o={400:"错误请求",401:"未授权，请登录",403:"拒绝访问",404:"请求地址出错: ".concat(null==(s=null==(r=t.response)?void 0:r.config)?void 0:s.url),405:"请求方法未允许",408:"请求超时",500:"服务器内部错误",501:"网络未实现",502:"网关错误",503:"服务不可用",504:"网络超时",505:"http版本不支持该请求"};return o[e]?o[e]:"网络连接故障"})(r,e)}return s(t),Promise.reject(e)}))}constructor(t){e.axiosConfigDefault=t,e.axiosInstance=o.create(t),this.httpInterceptorsRequest(),this.httpInterceptorsResponse()}request(t){const r={...e.axiosConfigDefault,...t};return new Promise(((t,s)=>{e.axiosInstance.request(r).then((e=>{t(e)})).catch((e=>{s(e)}))}))}};t(p,"axiosInstance"),t(p,"axiosConfigDefault");const f=new p(l);function d(e){return f.request({url:"/api/index/index/login",method:"post",data:e})}function m(e){return f.request({url:"/pay/index/index/pay",method:"post",data:e})}export{d as l,m as p};
